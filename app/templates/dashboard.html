<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="AI Review Analyzer Dashboard - управление товарами, аналитика отзывов">
  <meta name="robots" content="noindex, nofollow">
  <meta name="theme-color" content="#A3B8F8">
  <title>Личный кабинет — AI Review Analyzer</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', path='images/public/favicon.png') }}" />
  <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', path='images/public/favicon.png') }}" />
  
  <!-- Preload critical resources -->
  <link rel="preload" href="{{ url_for('static', path='css/main.css') }}" as="style">
  <link rel="preconnect" href="https://cdn.tailwindcss.com">
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="{{ url_for('static', path='css/tailwind.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', path='css/main.css') }}">
</head>
<body class="lg:min-h-screen flex items-start lg:items-center justify-center font-sans bg-[#F5F6FA]">

  <!-- Backdrop -->
  <div id="backdrop" class="backdrop"></div>

  <!-- Mobile Menu -->
  <div id="mobileMenu">
    <div class="text-xl font-bold mb-4">AI</div>
    <nav class="space-y-4">
      <a href="{{ url_for('dashboard') }}" 
        class="flex items-center p-[10px] rounded-lg gap-3 transition-all
              {% if active_menu == 'dashboard' %}bg-[#A3B8F8] text-white font-semibold active{% else %}text-gray-700 hover:bg-[#E6E9F5]{% endif %}">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7.5 13.333C8.20833 13.858 9.07083 14.1663 10 14.1663C10.9292 14.1663 11.7917 13.858 12.5 13.333" stroke="white" stroke-linecap="round"/>
          <path d="M18.0318 10.7982L17.7993 12.4123C17.3935 15.2357 17.1902 16.6465 16.211 17.4898C15.2318 18.3332 13.796 18.3332 10.9235 18.3332H9.08018C6.20768 18.3332 4.77184 18.3332 3.79268 17.4898C2.81351 16.6465 2.61018 15.2357 2.20434 12.4123L1.97184 10.7982C1.65518 8.60067 1.49684 7.5015 1.94768 6.56234C2.39768 5.62317 3.35684 5.0515 5.27434 3.90984L6.42851 3.22234C8.16851 2.18484 9.04018 1.6665 10.0018 1.6665C10.9635 1.6665 11.8343 2.18484 13.5752 3.22234L14.7293 3.90984C16.646 5.0515 17.6052 5.62317 18.056 6.56234" stroke="white" stroke-linecap="round"/>
        </svg>
        Goods
      </a>
      <a href="{{ url_for('directory_page', directory_name='brand') }}" 
        class="flex items-center p-[10px] rounded-lg gap-3 transition-all
              {% if active_menu == 'brand' %}bg-[#A3B8F8] text-white font-semibold active{% else %}text-gray-700 hover:bg-[#E6E9F5]{% endif %}">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12.5013 9.16699L13.3346 14.167M7.5013 9.16699L6.66797 14.167M7.5013 5.00033V4.16699C7.5013 3.50395 7.76469 2.86807 8.23353 2.39923C8.70238 1.93038 9.33826 1.66699 10.0013 1.66699C10.6643 1.66699 11.3002 1.93038 11.7691 2.39923C12.2379 2.86807 12.5013 3.50395 12.5013 4.16699V5.00033" stroke="#1F2125" stroke-width="0.9375" stroke-linecap="round"/>
          <path d="M16.8527 10.4388C16.3644 7.83799 16.121 6.53715 15.1944 5.76882C14.2702 5.00049 12.9469 5.00049 10.2994 5.00049H9.69936C7.0527 5.00049 5.72936 5.00049 4.80353 5.76882C3.8777 6.53715 3.63436 7.83799 3.14603 10.4388C2.4602 14.0963 2.1177 15.9247 3.1177 17.1297C4.1177 18.3347 5.9777 18.3338 9.69853 18.3338H10.3002C14.021 18.3338 15.8819 18.3338 16.881 17.1297C17.461 16.4297 17.5894 15.5213 17.461 14.1672" stroke="#1F2125" stroke-width="0.9375" stroke-linecap="round"/>
        </svg>
        Brands
      </a>
      <a href="{{ url_for('directory_page', directory_name='category') }}" 
        class="flex items-center p-[10px] rounded-lg gap-3 transition-all
              {% if active_menu == 'category' %}bg-[#A3B8F8] text-white font-semibold active{% else %}text-gray-700 hover:bg-[#E6E9F5]{% endif %}">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M8.28708 1.04199H11.7121C12.8521 1.04199 13.7704 1.04199 14.4929 1.13949C15.2429 1.23949 15.8746 1.45616 16.3763 1.95699C16.8779 2.45866 17.0929 3.09033 17.1946 3.84033C17.2913 4.56283 17.2913 5.48199 17.2913 6.62116V13.3795C17.2913 14.5187 17.2913 15.4378 17.1946 16.1603C17.0938 16.9103 16.8779 17.542 16.3763 18.0437C15.8746 18.5453 15.2429 18.7603 14.4929 18.862C13.7704 18.9587 12.8513 18.9587 11.7121 18.9587H8.28708C7.14792 18.9587 6.22875 18.9587 5.50625 18.862C4.75625 18.7603 4.12458 18.5453 3.62292 18.0437C3.12125 17.542 2.90625 16.9103 2.80542 16.1603C2.77231 15.8994 2.74952 15.6372 2.73708 15.3745C2.70373 15.2687 2.69913 15.156 2.72375 15.0478C2.71004 14.4918 2.70476 13.9357 2.70792 13.3795V6.62116C2.70792 5.48199 2.70792 4.56283 2.80542 3.84033C2.90542 3.09033 3.12208 2.45866 3.62375 1.95699C4.12458 1.45533 4.75708 1.24033 5.50708 1.13949C6.22875 1.04199 7.14792 1.04199 8.28708 1.04199ZM3.98042 15.2087C3.99292 15.5028 4.01292 15.762 4.04375 15.9937C4.12625 16.6053 4.27708 16.9287 4.50708 17.1595C4.73792 17.3903 5.06208 17.5403 5.67375 17.6228C6.30292 17.707 7.13708 17.7087 8.33292 17.7087H11.6663C12.8629 17.7087 13.6971 17.707 14.3263 17.6228C14.9379 17.5403 15.2613 17.3895 15.4929 17.1595C15.6563 16.9962 15.7788 16.7853 15.8663 16.4587H6.66625C6.50049 16.4587 6.34152 16.3928 6.22431 16.2756C6.1071 16.1584 6.04125 15.9994 6.04125 15.8337C6.04125 15.6679 6.1071 15.5089 6.22431 15.3917C6.34152 15.2745 6.50049 15.2087 6.66625 15.2087H16.0188C16.0346 14.8495 16.0396 14.4378 16.0404 13.9587H6.58125C5.76625 13.9587 5.48125 13.9637 5.26292 14.0228C4.9689 14.1014 4.69842 14.2503 4.47483 14.4568C4.25124 14.6632 4.08127 14.921 3.97958 15.2078M16.0404 12.7078H6.48458C5.80292 12.7078 5.33792 12.7078 4.93875 12.8145C4.58803 12.9093 4.25624 13.0638 3.95792 13.2712V6.66699C3.95792 5.47116 3.95958 4.63616 4.04375 4.00699C4.12625 3.39533 4.27708 3.07199 4.50708 2.84116C4.73792 2.61033 5.06208 2.46033 5.67375 2.37783C6.30292 2.29366 7.13708 2.29199 8.33292 2.29199H11.6663C12.8629 2.29199 13.6971 2.29366 14.3263 2.37783C14.9379 2.46033 15.2613 2.61116 15.4929 2.84116C15.7229 3.07199 15.8729 3.39533 15.9554 4.00783C16.0404 4.63616 16.0413 5.47116 16.0413 6.66699L16.0404 12.7078ZM6.04125 5.83366C6.04125 5.6679 6.1071 5.50893 6.22431 5.39172C6.34152 5.27451 6.50049 5.20866 6.66625 5.20866H13.3329C13.4987 5.20866 13.6576 5.27451 13.7749 5.39172C13.8921 5.50893 13.9579 5.6679 13.9579 5.83366C13.9579 5.99942 13.8921 6.15839 13.7749 6.2756C13.6576 6.39281 13.4987 6.45866 13.3329 6.45866H6.66625C6.50049 6.45866 6.34152 6.39281 6.22431 6.2756C6.1071 6.15839 6.04125 5.99942 6.04125 5.83366ZM6.04125 8.75033C6.04125 8.58457 6.1071 8.42559 6.22431 8.30838C6.34152 8.19117 6.50049 8.12533 6.66625 8.12533H10.8329C10.9987 8.12533 11.1576 8.19117 11.2749 8.30838C11.3921 8.42559 11.4579 8.58457 11.4579 8.75033C11.4579 8.91609 11.3921 9.07506 11.2749 9.19227C11.1576 9.30948 10.9987 9.37533 10.8329 9.37533H6.66625C6.50049 9.37533 6.34152 9.30948 6.22431 9.19227C6.1071 9.07506 6.04125 8.91609 6.04125 8.75033Z" fill="#1F2125"/>
        </svg>
        Categories
      </a>
      <a href="{{ url_for('directory_page', directory_name='promt') }}" 
        class="flex items-center p-[10px] rounded-lg gap-3 transition-all
              {% if active_menu == 'promt' %}bg-[#A3B8F8] text-white font-semibold active{% else %}text-gray-700 hover:bg-[#E6E9F5]{% endif %}">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.4115 7.50016H13.7448M13.7448 7.50016H12.0781M13.7448 7.50016V5.8335M13.7448 7.50016V9.16683" stroke="#1F2125" stroke-width="0.9375" stroke-linecap="round"/>
          <path d="M9.9974 4.64512L9.54073 5.07178C9.5992 5.13436 9.66991 5.18425 9.74847 5.21836C9.82702 5.25247 9.91175 5.27007 9.9974 5.27007C10.083 5.27007 10.1678 5.25247 10.2463 5.21836C10.3249 5.18425 10.3956 5.13436 10.4541 5.07178L9.9974 4.64512ZM2.2074 11.4018C2.24863 11.4744 2.304 11.5381 2.37026 11.589C2.43651 11.6399 2.51229 11.6769 2.59311 11.698C2.67394 11.7191 2.75818 11.7238 2.84085 11.7118C2.92352 11.6998 3.00294 11.6713 3.07442 11.6281C3.1459 11.5849 3.20799 11.5277 3.25701 11.4601C3.30604 11.3925 3.34101 11.3157 3.35985 11.2343C3.3787 11.1529 3.38103 11.0686 3.36673 10.9863C3.35242 10.904 3.32176 10.8254 3.27656 10.7551L2.2074 11.4018ZM5.4449 13.4759C5.38843 13.414 5.32008 13.3641 5.24393 13.3291C5.16777 13.2942 5.08537 13.2749 5.00161 13.2724C4.91785 13.2699 4.83444 13.2843 4.75636 13.3147C4.67827 13.3451 4.60709 13.3909 4.54706 13.4494C4.48703 13.5079 4.43937 13.5778 4.40692 13.6551C4.37446 13.7323 4.35787 13.8153 4.35813 13.8991C4.3584 13.9829 4.37551 14.0658 4.40845 14.1428C4.4414 14.2199 4.4895 14.2895 4.5499 14.3476L5.4449 13.4759ZM2.28906 7.76512C2.28906 5.34428 3.34573 3.84845 4.6524 3.33595C5.95656 2.82512 7.78073 3.19012 9.54073 5.07178L10.4541 4.21845C8.46406 2.09012 6.12156 1.41845 4.19656 2.17178C2.27406 2.92512 1.03906 4.99345 1.03906 7.76512H2.28906ZM12.9224 16.6334C14.1666 15.6243 15.6566 14.2718 16.8416 12.7609C18.0141 11.2659 18.9557 9.52845 18.9557 7.76345H17.7057C17.7057 9.10678 16.9724 10.5668 15.8574 11.9893C14.7541 13.3968 13.3441 14.6826 12.1357 15.6626L12.9224 16.6334ZM18.9557 7.76345C18.9557 4.99262 17.7207 2.92428 15.7974 2.17178C13.8724 1.41762 11.5307 2.08845 9.54073 4.21762L10.4541 5.07178C12.2141 3.19012 14.0382 2.82428 15.3424 3.33512C16.6491 3.84678 17.7057 5.34345 17.7057 7.76345H18.9557ZM7.0724 16.6343C8.13073 17.4943 8.86573 18.1251 9.9974 18.1251V16.8751C9.3949 16.8751 9.0199 16.6051 7.85906 15.6634L7.0724 16.6343ZM12.1357 15.6626C10.9749 16.6043 10.5999 16.8751 9.9974 16.8751V18.1251C11.1291 18.1251 11.8649 17.4943 12.9232 16.6343L12.1357 15.6626ZM3.2774 10.7551C2.65323 9.72512 2.28906 8.71262 2.28906 7.76512H1.03906C1.03906 9.02512 1.51906 10.2651 2.2074 11.4018L3.2774 10.7551ZM7.85906 15.6634C7.01305 14.9812 6.207 14.2508 5.4449 13.4759L4.5499 14.3476C5.34522 15.1583 6.18804 15.9218 7.0724 16.6343L7.85906 15.6634Z" fill="#1F2125"/>
        </svg>
        Promts
      </a>
      <a href="{{ url_for('logout') }}" class="flex items-center gap-2 text-gray-700 hover:text-black">
        <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M10 13.1668L6 8.50016L7 7.3335M10 3.8335L8.66667 5.38883" stroke="#1F2125" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Exit
      </a>
    </nav>
  </div>

  <!-- Мобильная плавающая пагинация (только для моб/планшет) -->
  <div id="mobile-pagination" class="fixed bottom-0 left-0 w-full z-50 bg-white shadow-lg p-2 flex justify-between items-center lg:hidden hidden">
    <span id="mobile-pagination-info" class="text-xs text-gray-400 font-medium"></span>
    <div id="mobile-pagination-controls" class="flex items-center space-x-2"></div>
  </div>

  <!-- Mobile Filter -->
  <div id="mobileFilter" class="bg-[#F5F6FA]">
    <div class="mb-5">
      <div class="flex justify-start items-center text-white p-2 gap-[3px] mb-1 bg-[#7D94CF]">
        <a id="mob_sort_name" href="#" class="sort-link" data-sort="name">
          <span class="sort-icon" data-sort="name">
            <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_886_851)">
              <path d="M4.26624 8.69067L6.62335 6.33356L8.98047 8.69067" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6.62505 6.33354L6.62505 14.5834" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M15.5625 13.0594L13.2054 15.4166L10.8483 13.0594" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M13.2071 7.16667L13.2071 15.4166" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
              </g>
              <defs>
              <clipPath id="clip0_886_851">
              <rect width="20" height="20" fill="white" transform="translate(0 0.5)"/>
              </clipPath>
              </defs>
            </svg>
          </span>
        </a>
        Sorting
      </div>
      <select id="mob_sorting" name="sorting"
            class="w-full rounded-lg border border-gray-200 px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-[#A3B8F8] transition">
        <option value="">-- No Sorting --</option>
        <option value="name">Name</option>
        <option value="ean">EAN</option>
        <option value="upc">UPC</option>
        <option value="brand">Brand</option>
        <option value="category">Category</option>
      </select>
    </div>
    <div class="mb-3">
      <div class="flex justify-start items-center text-white p-2 gap-[3px] mb-2 bg-[#7D94CF]">
        <a href="#" id="mob-filter-row" class="flex items-center font-bold text-black hover:underline">
          <svg id="mob-filter-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11.029 6.10854C11.503 5.78221 11.7405 5.61904 11.87 5.35565C12 5.09287 12 4.7757 12 4.14136V3.71969C12 2.90934 12 2.50356 11.78 2.25178C11.561 2 11.2075 2 10.5 2H3.5C2.793 2 2.4395 2 2.22 2.25178C2.0005 2.50356 2 2.90934 2 3.7203V4.14197C2 4.7757 2 5.09287 2.13 5.35565C2.26 5.61843 2.4965 5.78221 2.971 6.10854C2.971 6.10854 4.1095 6.892 4.4275 7.11078C4.4275 7.11078 4.905 7.43895 5.019 7.55995C5.256 7.81112 5.402 8.1069 5.468 8.47052C5.5 8.64407 5.5 8.84819 5.5 9.2558V10.8875C5.5 11.443 5.5 11.7211 5.626 11.9374C5.752 12.1543 5.976 12.2613 6.423 12.4752C7.3625 12.9237 7.832 13.148 8.166 12.8926C8.5 12.6371 8.5 12.0541 8.5 10.8869V9.25519C8.5 8.84819 8.5 8.64407 8.532 8.4699C8.59479 8.11372 8.75297 7.7933 8.9815 7.55934" stroke="#1F2125" stroke-width="0.9375" stroke-linecap="round"/>
          </svg>
          <svg id="mob-filter-icon-active" class="hidden" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_801_3991)">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M3.40151 2.58058C3.13031 2.30939 2.69061 2.30939 2.41942 2.58058C2.14822 2.85178 2.14822 3.29148 2.41942 3.56268L5.85674 7L2.41942 10.4373C2.14822 10.7085 2.14822 11.1482 2.41942 11.4194C2.69061 11.6906 3.13031 11.6906 3.40151 11.4194L6.83883 7.98209L10.2762 11.4194C10.5474 11.6906 10.9871 11.6906 11.2583 11.4194C11.5294 11.1482 11.5294 10.7085 11.2583 10.4373L7.82093 7L11.2583 3.56268C11.5294 3.29148 11.5294 2.85178 11.2583 2.58058C10.9871 2.30939 10.5474 2.30939 10.2762 2.58058L6.83883 6.01791L3.40151 2.58058Z" fill="#88A6F0"/>
            </g>
            <defs>
            <clipPath id="clip0_801_3991">
            <rect width="14" height="14" fill="white"/>
            </clipPath>
            </defs>
          </svg>
          Filter
        </a>
      </div>
      <!-- Name toggle-->
      <div class="mb-2">
        <label class="block font-bold text-sm mb-1" for="name">Name</label>
        <input type="text" id="mob_search_name" name="name" 
              class="w-full rounded-lg border border-gray-200 px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-[#A3B8F8] transition">
      </div>
      <!-- EAN -->
      <div class="mb-2">
        <label class="block font-bold text-sm mb-1" for="ean">EAN</label>
        <input type="text" id="mob_search_ean" name="ean" 
              class="w-full rounded-lg border border-gray-200 px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-[#A3B8F8] transition">
      </div>
      <!-- UPC -->
      <div class="mb-2">
        <label class="block font-bold text-sm mb-1" for="upc">UPC</label>
        <input type="text" id="mob_search_upc" name="upc" 
              class="w-full rounded-lg border border-gray-200 px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-[#A3B8F8] transition">
      </div>
      <!-- Brand -->
      <div class="mb-2">
        <label class="block font-bold text-sm mb-1" for="brand_id">Brand</label>
        <select id="mob_brand_id" name="brand_id" 
              class="w-full rounded-lg border border-gray-200 px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-[#A3B8F8] transition">
          <option value="">-- No brand --</option>
          {% for brand in brands %}
            <option value="{{ brand.id }}" {% if product and product.brand_id == brand.id %}selected{% endif %}>
              {{ brand }}
            </option>
        {% endfor %}
        </select>
      </div>
      <!-- Category -->
      <div class="mb-2">
        <label class="block font-bold text-sm mb-1" for="category_id">Category</label>
        <select id="mob_category_id" name="category_id"  
              class="w-full rounded-lg border border-gray-200 px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-[#A3B8F8] transition">
          <option value="">-- Uncategorized --</option>
          {% for category in categories %}
            <option value="{{ category.id }}" {% if product and product.category_id == category.id %}selected{% endif %}>
              {{ category }}
            </option>
          {% endfor %}
        </select>
      </div>
      <button id="mobileFilterApply" class="w-full mb-6 py-2 bg-[#A3B8F8] text-white rounded-lg font-bold text-lg">Apply filter</button>
      <!-- Лимит на странице (мобильный фильтр) -->
      <div class="mb-3">
        <label class="block font-bold text-sm p-2 mb-1 bg-[#7D94CF]" for="mobile_limit">Show on page</label>
        <select id="mobile_limit" class="w-full rounded-lg border border-gray-200 px-2 py-1 bg-white">
          <option value="3">3</option>
          <option value="10" selected>10</option>
          <option value="25">25</option>
          <option value="50">50</option>
        </select>
      </div>
    </div>
  </div>
  
  
  <div class="flex w-full max-w-[1600px] lg:shadow-[0_2px_6px_0px_rgba(0,0,0,0.25)] lg:border-r">

	  <!-- Sidebar -->
    <aside id="sidebar" class="flex flex-col min-h-screen w-[200px] min-w-[64px] max-w-[200px] flex-shrink-0 bg-[#E5E5E5] p-[10px] shadow-[0_2px_6px_0px_rgba(0,0,0,0.25)] border-r border-sidebar">
      <div id="sidebar-header" class="flex items-center justify-center border-b border-gray-200">
        <button id="toggle-aside" class="rounded hover:bg-gray-200 transition-all">
          <span class="sidebar-full text-2xl font-black tracking-tight text-[#7B7FD1]">AI Review Analyzer</span>
          <span class="sidebar-collapsed hidden text-2xl font-black text-[#7B7FD1]">AI</span>
        </button>
      </div>
      <div class="flex-1">
        <nav class="mt-6 space-y-2">
          <a href="{{ url_for('dashboard') }}"
            class="flex items-center p-[10px] rounded-lg gap-3 transition-all
                   {% if active_menu == 'dashboard' %}bg-[#A3B8F8] text-white font-semibold active{% else %}text-gray-700 hover:bg-[#E6E9F5]{% endif %}">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.5 13.333C8.20833 13.858 9.07083 14.1663 10 14.1663C10.9292 14.1663 11.7917 13.858 12.5 13.333" stroke="white" stroke-linecap="round"/>
              <path d="M18.0318 10.7982L17.7993 12.4123C17.3935 15.2357 17.1902 16.6465 16.211 17.4898C15.2318 18.3332 13.796 18.3332 10.9235 18.3332H9.08018C6.20768 18.3332 4.77184 18.3332 3.79268 17.4898C2.81351 16.6465 2.61018 15.2357 2.20434 12.4123L1.97184 10.7982C1.65518 8.60067 1.49684 7.5015 1.94768 6.56234C2.39768 5.62317 3.35684 5.0515 5.27434 3.90984L6.42851 3.22234C8.16851 2.18484 9.04018 1.6665 10.0018 1.6665C10.9635 1.6665 11.8343 2.18484 13.5752 3.22234L14.7293 3.90984C16.646 5.0515 17.6052 5.62317 18.056 6.56234" stroke="white" stroke-linecap="round"/>
            </svg>
            <span class="nav-label">Goods</span>
          </a>
          <a href="{{ url_for('directory_page', directory_name='brand') }}"
            class="flex items-center p-[10px] rounded-lg gap-3 transition-all
                   {% if active_menu == 'brand' %}bg-[#A3B8F8] text-white font-semibold active{% else %}text-gray-700 hover:bg-[#E6E9F5]{% endif %}">
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12.5013 9.16699L13.3346 14.167M7.5013 9.16699L6.66797 14.167M7.5013 5.00033V4.16699C7.5013 3.50395 7.76469 2.86807 8.23353 2.39923C8.70238 1.93038 9.33826 1.66699 10.0013 1.66699C10.6643 1.66699 11.3002 1.93038 11.7691 2.39923C12.2379 2.86807 12.5013 3.50395 12.5013 4.16699V5.00033" stroke="#1F2125" stroke-width="0.9375" stroke-linecap="round"/>
              <path d="M16.8527 10.4388C16.3644 7.83799 16.121 6.53715 15.1944 5.76882C14.2702 5.00049 12.9469 5.00049 10.2994 5.00049H9.69936C7.0527 5.00049 5.72936 5.00049 4.80353 5.76882C3.8777 6.53715 3.63436 7.83799 3.14603 10.4388C2.4602 14.0963 2.1177 15.9247 3.1177 17.1297C4.1177 18.3347 5.9777 18.3338 9.69853 18.3338H10.3002C14.021 18.3338 15.8819 18.3338 16.881 17.1297C17.461 16.4297 17.5894 15.5213 17.461 14.1672" stroke="#1F2125" stroke-width="0.9375" stroke-linecap="round"/>
            </svg>
            <span class="nav-label">Brands</span>
          </a>
          <a href="{{ url_for('directory_page', directory_name='category') }}"
            class="flex items-center p-[10px] rounded-lg gap-3 transition-all
                   {% if active_menu == 'category' %}bg-[#A3B8F8] text-white font-semibold active{% else %}text-gray-700 hover:bg-[#E6E9F5]{% endif %}">
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M8.28708 1.04199H11.7121C12.8521 1.04199 13.7704 1.04199 14.4929 1.13949C15.2429 1.23949 15.8746 1.45616 16.3763 1.95699C16.8779 2.45866 17.0929 3.09033 17.1946 3.84033C17.2913 4.56283 17.2913 5.48199 17.2913 6.62116V13.3795C17.2913 14.5187 17.2913 15.4378 17.1946 16.1603C17.0938 16.9103 16.8779 17.542 16.3763 18.0437C15.8746 18.5453 15.2429 18.7603 14.4929 18.862C13.7704 18.9587 12.8513 18.9587 11.7121 18.9587H8.28708C7.14792 18.9587 6.22875 18.9587 5.50625 18.862C4.75625 18.7603 4.12458 18.5453 3.62292 18.0437C3.12125 17.542 2.90625 16.9103 2.80542 16.1603C2.77231 15.8994 2.74952 15.6372 2.73708 15.3745C2.70373 15.2687 2.69913 15.156 2.72375 15.0478C2.71004 14.4918 2.70476 13.9357 2.70792 13.3795V6.62116C2.70792 5.48199 2.70792 4.56283 2.80542 3.84033C2.90542 3.09033 3.12208 2.45866 3.62375 1.95699C4.12458 1.45533 4.75708 1.24033 5.50708 1.13949C6.22875 1.04199 7.14792 1.04199 8.28708 1.04199ZM3.98042 15.2087C3.99292 15.5028 4.01292 15.762 4.04375 15.9937C4.12625 16.6053 4.27708 16.9287 4.50708 17.1595C4.73792 17.3903 5.06208 17.5403 5.67375 17.6228C6.30292 17.707 7.13708 17.7087 8.33292 17.7087H11.6663C12.8629 17.7087 13.6971 17.707 14.3263 17.6228C14.9379 17.5403 15.2613 17.3895 15.4929 17.1595C15.6563 16.9962 15.7788 16.7853 15.8663 16.4587H6.66625C6.50049 16.4587 6.34152 16.3928 6.22431 16.2756C6.1071 16.1584 6.04125 15.9994 6.04125 15.8337C6.04125 15.6679 6.1071 15.5089 6.22431 15.3917C6.34152 15.2745 6.50049 15.2087 6.66625 15.2087H16.0188C16.0346 14.8495 16.0396 14.4378 16.0404 13.9587H6.58125C5.76625 13.9587 5.48125 13.9637 5.26292 14.0228C4.9689 14.1014 4.69842 14.2503 4.47483 14.4568C4.25124 14.6632 4.08127 14.921 3.97958 15.2078M16.0404 12.7078H6.48458C5.80292 12.7078 5.33792 12.7078 4.93875 12.8145C4.58803 12.9093 4.25624 13.0638 3.95792 13.2712V6.66699C3.95792 5.47116 3.95958 4.63616 4.04375 4.00699C4.12625 3.39533 4.27708 3.07199 4.50708 2.84116C4.73792 2.61033 5.06208 2.46033 5.67375 2.37783C6.30292 2.29366 7.13708 2.29199 8.33292 2.29199H11.6663C12.8629 2.29199 13.6971 2.29366 14.3263 2.37783C14.9379 2.46033 15.2613 2.61116 15.4929 2.84116C15.7229 3.07199 15.8729 3.39533 15.9554 4.00783C16.0404 4.63616 16.0413 5.47116 16.0413 6.66699L16.0404 12.7078ZM6.04125 5.83366C6.04125 5.6679 6.1071 5.50893 6.22431 5.39172C6.34152 5.27451 6.50049 5.20866 6.66625 5.20866H13.3329C13.4987 5.20866 13.6576 5.27451 13.7749 5.39172C13.8921 5.50893 13.9579 5.6679 13.9579 5.83366C13.9579 5.99942 13.8921 6.15839 13.7749 6.2756C13.6576 6.39281 13.4987 6.45866 13.3329 6.45866H6.66625C6.50049 6.45866 6.34152 6.39281 6.22431 6.2756C6.1071 6.15839 6.04125 5.99942 6.04125 5.83366ZM6.04125 8.75033C6.04125 8.58457 6.1071 8.42559 6.22431 8.30838C6.34152 8.19117 6.50049 8.12533 6.66625 8.12533H10.8329C10.9987 8.12533 11.1576 8.19117 11.2749 8.30838C11.3921 8.42559 11.4579 8.58457 11.4579 8.75033C11.4579 8.91609 11.3921 9.07506 11.2749 9.19227C11.1576 9.30948 10.9987 9.37533 10.8329 9.37533H6.66625C6.50049 9.37533 6.34152 9.30948 6.22431 9.19227C6.1071 9.07506 6.04125 8.91609 6.04125 8.75033Z" fill="#1F2125"/>
            </svg>
            <span class="nav-label">Categories</span>
          </a>
          <a href="{{ url_for('directory_page', directory_name='promt') }}"
            class="flex items-center p-[10px] rounded-lg gap-3 transition-all
                   {% if active_menu == 'promt' %}bg-[#A3B8F8] text-white font-semibold active{% else %}text-gray-700 hover:bg-[#E6E9F5]{% endif %}">
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15.4115 7.50016H13.7448M13.7448 7.50016H12.0781M13.7448 7.50016V5.8335M13.7448 7.50016V9.16683" stroke="#1F2125" stroke-width="0.9375" stroke-linecap="round"/>
              <path d="M9.9974 4.64512L9.54073 5.07178C9.5992 5.13436 9.66991 5.18425 9.74847 5.21836C9.82702 5.25247 9.91175 5.27007 9.9974 5.27007C10.083 5.27007 10.1678 5.25247 10.2463 5.21836C10.3249 5.18425 10.3956 5.13436 10.4541 5.07178L9.9974 4.64512ZM2.2074 11.4018C2.24863 11.4744 2.304 11.5381 2.37026 11.589C2.43651 11.6399 2.51229 11.6769 2.59311 11.698C2.67394 11.7191 2.75818 11.7238 2.84085 11.7118C2.92352 11.6998 3.00294 11.6713 3.07442 11.6281C3.1459 11.5849 3.20799 11.5277 3.25701 11.4601C3.30604 11.3925 3.34101 11.3157 3.35985 11.2343C3.3787 11.1529 3.38103 11.0686 3.36673 10.9863C3.35242 10.904 3.32176 10.8254 3.27656 10.7551L2.2074 11.4018ZM5.4449 13.4759C5.38843 13.414 5.32008 13.3641 5.24393 13.3291C5.16777 13.2942 5.08537 13.2749 5.00161 13.2724C4.91785 13.2699 4.83444 13.2843 4.75636 13.3147C4.67827 13.3451 4.60709 13.3909 4.54706 13.4494C4.48703 13.5079 4.43937 13.5778 4.40692 13.6551C4.37446 13.7323 4.35787 13.8153 4.35813 13.8991C4.3584 13.9829 4.37551 14.0658 4.40845 14.1428C4.4414 14.2199 4.4895 14.2895 4.5499 14.3476L5.4449 13.4759ZM2.28906 7.76512C2.28906 5.34428 3.34573 3.84845 4.6524 3.33595C5.95656 2.82512 7.78073 3.19012 9.54073 5.07178L10.4541 4.21845C8.46406 2.09012 6.12156 1.41845 4.19656 2.17178C2.27406 2.92512 1.03906 4.99345 1.03906 7.76512H2.28906ZM12.9224 16.6334C14.1666 15.6243 15.6566 14.2718 16.8416 12.7609C18.0141 11.2659 18.9557 9.52845 18.9557 7.76345H17.7057C17.7057 9.10678 16.9724 10.5668 15.8574 11.9893C14.7541 13.3968 13.3441 14.6826 12.1357 15.6626L12.9224 16.6334ZM18.9557 7.76345C18.9557 4.99262 17.7207 2.92428 15.7974 2.17178C13.8724 1.41762 11.5307 2.08845 9.54073 4.21762L10.4541 5.07178C12.2141 3.19012 14.0382 2.82428 15.3424 3.33512C16.6491 3.84678 17.7057 5.34345 17.7057 7.76345H18.9557ZM7.0724 16.6343C8.13073 17.4943 8.86573 18.1251 9.9974 18.1251V16.8751C9.3949 16.8751 9.0199 16.6051 7.85906 15.6634L7.0724 16.6343ZM12.1357 15.6626C10.9749 16.6043 10.5999 16.8751 9.9974 16.8751V18.1251C11.1291 18.1251 11.8649 17.4943 12.9232 16.6343L12.1357 15.6626ZM3.2774 10.7551C2.65323 9.72512 2.28906 8.71262 2.28906 7.76512H1.03906C1.03906 9.02512 1.51906 10.2651 2.2074 11.4018L3.2774 10.7551ZM7.85906 15.6634C7.01305 14.9812 6.207 14.2508 5.4449 13.4759L4.5499 14.3476C5.34522 15.1583 6.18804 15.9218 7.0724 16.6343L7.85906 15.6634Z" fill="#1F2125"/>
            </svg>
            <span class="nav-label">Promts</span>
          </a>
		    </nav>
      </div>
      <div class="mt-auto">
        <a href="{{ url_for('logout') }}" class="flex items-center p-[10px] rounded-lg text-gray-500 hover:bg-[#E6E9F5] gap-3 transition-all">
          <svg width="20" height="20" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 13.1668L6 8.50016L7 7.3335M10 3.8335L8.66667 5.38883" stroke="#1F2125" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="nav-label">Exit</span>
        </a>
      </div>
    </aside>

    <!-- Main content -->
    <main class="flex flex-col lg:h-screen lg:min-h-0 w-full bg-[#F5F6FA]">
      <header class="flex items-center px-[20px] py-[10px] bg-transparent border-b border-gray-100">
        <button id="mobile-toggle" class="lg:hidden block p-2 rounded bg-white shadow mr-4" aria-label="Open mobile menu" aria-expanded="false">
          <svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" role="img" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
        <h1 class="text-3xl font-black text-gray-900 leading-tight">Goods</h1>
      </header>
    
      <div class="flex-1 flex flex-col lg:min-h-0 p-[20px] border-thead">
        
        <div class="flex flex-wrap justify-between items-center mb-[10px]">
          <div class="flex flex-wrap items-center gap-4">
            <a href="/product/new/form{{ return_params_str }}" id="new_product" class="flex items-center gap-2 px-5 py-2 bg-[#A3B8F8] text-white rounded-full shadow font-semibold text-lg hover:bg-[#7B7FD1] transition">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M12 4v16m8-8H4" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
              Add
            </a>
          </div>
          <div class="flex items-center gap-6">
            <div class="hidden lg:flex flex-wrap justify-between items-center gap-6">
              <button id="reset-sort-btn" class="flex items-center gap-1 font-bold text-black bg-transparent border-0 p-0 hover:text-black focus:outline-none" title="Sorting available">
                <svg id="toggle-sort-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_750_6316)">
                  <path d="M1.26624 5.18994L3.62335 2.83283L5.98047 5.18994" stroke="#1F2125" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M3.62505 2.83306L3.62505 11.083" stroke="#1F2125" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M12.5664 9.55908L10.2093 11.9162L7.85218 9.55908" stroke="#1F2125" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M10.211 3.66655L10.211 11.9165" stroke="#1F2125" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                  </g>
                  <defs>
                  <clipPath id="clip0_750_6316">
                  <rect width="14" height="14" fill="white"/>
                  </clipPath>
                  </defs>
                </svg>
                <svg id="toggle-sort-icon-active" class="hidden" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_801_3991)">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M3.40151 2.58058C3.13031 2.30939 2.69061 2.30939 2.41942 2.58058C2.14822 2.85178 2.14822 3.29148 2.41942 3.56268L5.85674 7L2.41942 10.4373C2.14822 10.7085 2.14822 11.1482 2.41942 11.4194C2.69061 11.6906 3.13031 11.6906 3.40151 11.4194L6.83883 7.98209L10.2762 11.4194C10.5474 11.6906 10.9871 11.6906 11.2583 11.4194C11.5294 11.1482 11.5294 10.7085 11.2583 10.4373L7.82093 7L11.2583 3.56268C11.5294 3.29148 11.5294 2.85178 11.2583 2.58058C10.9871 2.30939 10.5474 2.30939 10.2762 2.58058L6.83883 6.01791L3.40151 2.58058Z" fill="#88A6F0"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_801_3991">
                    <rect width="14" height="14" fill="white"/>
                    </clipPath>
                    </defs>
                  </svg>
                  Sorting
              </button>
              <a href="#" id="toggle-filter-row" class="flex items-center font-bold text-black hover:underline">
                <svg id="toggle-filter-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11.029 6.10854C11.503 5.78221 11.7405 5.61904 11.87 5.35565C12 5.09287 12 4.7757 12 4.14136V3.71969C12 2.90934 12 2.50356 11.78 2.25178C11.561 2 11.2075 2 10.5 2H3.5C2.793 2 2.4395 2 2.22 2.25178C2.0005 2.50356 2 2.90934 2 3.7203V4.14197C2 4.7757 2 5.09287 2.13 5.35565C2.26 5.61843 2.4965 5.78221 2.971 6.10854C2.971 6.10854 4.1095 6.892 4.4275 7.11078C4.4275 7.11078 4.905 7.43895 5.019 7.55995C5.256 7.81112 5.402 8.1069 5.468 8.47052C5.5 8.64407 5.5 8.84819 5.5 9.2558V10.8875C5.5 11.443 5.5 11.7211 5.626 11.9374C5.752 12.1543 5.976 12.2613 6.423 12.4752C7.3625 12.9237 7.832 13.148 8.166 12.8926C8.5 12.6371 8.5 12.0541 8.5 10.8869V9.25519C8.5 8.84819 8.5 8.64407 8.532 8.4699C8.59479 8.11372 8.75297 7.7933 8.9815 7.55934" stroke="#1F2125" stroke-width="0.9375" stroke-linecap="round"/>
                </svg>
                <svg id="toggle-filter-icon-active" class="hidden" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_801_3991)">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.40151 2.58058C3.13031 2.30939 2.69061 2.30939 2.41942 2.58058C2.14822 2.85178 2.14822 3.29148 2.41942 3.56268L5.85674 7L2.41942 10.4373C2.14822 10.7085 2.14822 11.1482 2.41942 11.4194C2.69061 11.6906 3.13031 11.6906 3.40151 11.4194L6.83883 7.98209L10.2762 11.4194C10.5474 11.6906 10.9871 11.6906 11.2583 11.4194C11.5294 11.1482 11.5294 10.7085 11.2583 10.4373L7.82093 7L11.2583 3.56268C11.5294 3.29148 11.5294 2.85178 11.2583 2.58058C10.9871 2.30939 10.5474 2.30939 10.2762 2.58058L6.83883 6.01791L3.40151 2.58058Z" fill="#88A6F0"/>
                  </g>
                  <defs>
                  <clipPath id="clip0_801_3991">
                  <rect width="14" height="14" fill="white"/>
                  </clipPath>
                  </defs>
                </svg>
                Filter
              </a>
            </div>
            <div class="lg:hidden">
              <button id="mobile-filter" class="block lg:hidden">
                <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M13.75 16C14.7165 16 15.5 15.2165 15.5 14.25C15.5 13.2835 14.7165 12.5 13.75 12.5C12.7835 12.5 12 13.2835 12 14.25C12 15.2165 12.7835 16 13.75 16Z" stroke="#1F2125" stroke-miterlimit="10"/>
                  <path d="M13.75 22.5C14.7165 22.5 15.5 21.7165 15.5 20.75C15.5 19.7835 14.7165 19 13.75 19C12.7835 19 12 19.7835 12 20.75C12 21.7165 12.7835 22.5 13.75 22.5Z" stroke="#1F2125" stroke-miterlimit="10"/>
                  <path d="M13.75 9.5C14.7165 9.5 15.5 8.7165 15.5 7.75C15.5 6.7835 14.7165 6 13.75 6C12.7835 6 12 6.7835 12 7.75C12 8.7165 12.7835 9.5 13.75 9.5Z" stroke="#1F2125" stroke-miterlimit="10"/>
                </svg>
              </button>
            </div>
            <div class="relative flex justify-end items-center">
              <a href="#" id="toggle-help" class="flex items-center font-bold text-black hover:underline">
                <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect y="0.5" width="21" height="21" rx="10.5" fill="#6B6397"/>
                  <path d="M11.8374 6L11.5419 13.1687H9.39901L9.10345 6H11.8374ZM10.5074 17C10.064 17 9.69951 16.8703 9.41379 16.6109C9.13793 16.3415 9 16.0122 9 15.6231C9 15.224 9.13793 14.8898 9.41379 14.6204C9.69951 14.351 10.064 14.2163 10.5074 14.2163C10.9409 14.2163 11.2956 14.351 11.5714 14.6204C11.8571 14.8898 12 15.224 12 15.6231C12 16.0122 11.8571 16.3415 11.5714 16.6109C11.2956 16.8703 10.9409 17 10.5074 17Z" fill="white"/>
                </svg>
              </a>
              <div id="toggle-tooltip" class="hidden absolute top-[5px] right-[5px] w-[320px] bg-gray-900 text-white text-sm rounded-xl shadow-lg p-4 z-30">
                <b>Sort Button:</b><br>
                Allows you to sort the data in the table by column values.<br>
                Sorting is performed alphabetically - from A to Z (ascending) and from Z to A (descending).<br>
                It is enabled by clicking on the column name (for example, "Name", "Brand", "Category").<br>
                <br>
                <b>Filter Button:</b><br>
                Opens the filter panel under the table header.<br>
                Allows you to filter products by values in columns such as: Brand, Category, EAN, UPC.
                <span class="lg:hidden">  
                  <br><br>
                  <b>Analyze Button:</b><br>
                  Run AI analysis of reviews for this product.
                </span> 
              </div>
            </div>
          </div>
        </div>
        
        <div class="flex-1 flex flex-col lg:min-h-0 rounded-2xl overflow-hidden lg:shadow-[0px_2px_6px_0px_rgba(0,0,0,0.25)]">

          <div class="flex-1 min-h-0 table-scroll-area overflow-y-auto min-h-0 custom-scrollbar hidden lg:block">
            <table id="productTable" class="min-w-full table-fixed">
              <thead class="sticky top-0 z-20 bg-[#7D94CF] text-left shadow-[0_1px_4px_0px_rgba(0,0,0,0.25)] border border-solid border-thead">  
                <tr>
                  <th class="w-[80px] p-[5px] text-white font-bold">Photo</th>
                  <th class="p-[5px] text-white font-bold">
                    <div class="flex justify-start items-center gap-[3px]">
                      <a id="tab_sort_name" href="#" class="sort-link" data-sort="name">
                        <span class="sort-icon" data-sort="name">
                          <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_886_851)">
                            <path d="M4.26624 8.69067L6.62335 6.33356L8.98047 8.69067" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M6.62505 6.33354L6.62505 14.5834" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15.5625 13.0594L13.2054 15.4166L10.8483 13.0594" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M13.2071 7.16667L13.2071 15.4166" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_886_851">
                            <rect width="20" height="20" fill="white" transform="translate(0 0.5)"/>
                            </clipPath>
                            </defs>
                          </svg>
                        </span>
                      </a>
                      Name
                    </div>
                  </th>
                  <th class="w-[125px] p-[5px] text-white font-bold">
                    <div class="flex justify-start items-center gap-[3px]">
                      <a id="tab_sort_ean" href="#" class="sort-link" data-sort="ean">
                        <span class="sort-icon" data-sort="ean">
                          <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_886_851)">
                            <path d="M4.26624 8.69067L6.62335 6.33356L8.98047 8.69067" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M6.62505 6.33354L6.62505 14.5834" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15.5625 13.0594L13.2054 15.4166L10.8483 13.0594" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M13.2071 7.16667L13.2071 15.4166" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_886_851">
                            <rect width="20" height="20" fill="white" transform="translate(0 0.5)"/>
                            </clipPath>
                            </defs>
                          </svg>
                        </span>
                      </a>
                      EAN
                    </div>
                  </th>
                  <th class="w-[120px] p-[5px] text-white font-bold">
                    <div class="flex justify-start items-center gap-[3px]">
                      <a id="tab_sort_upc" href="#" class="sort-link" data-sort="upc">
                        <span class="sort-icon" data-sort="upc">
                          <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_886_851)">
                            <path d="M4.26624 8.69067L6.62335 6.33356L8.98047 8.69067" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M6.62505 6.33354L6.62505 14.5834" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15.5625 13.0594L13.2054 15.4166L10.8483 13.0594" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M13.2071 7.16667L13.2071 15.4166" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_886_851">
                            <rect width="20" height="20" fill="white" transform="translate(0 0.5)"/>
                            </clipPath>
                            </defs>
                          </svg>
                        </span>
                      </a>
                      UPC
                    </div>
                  </th>
                  <th class="w-[100px] xl:w-[150px] p-[5px] text-white font-bold">
                    <div class="flex justify-start items-center gap-[3px]">
                      <a id="tab_sort_brand" href="#" class="sort-link" data-sort="brand">
                        <span class="sort-icon" data-sort="brand">
                          <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_886_851)">
                            <path d="M4.26624 8.69067L6.62335 6.33356L8.98047 8.69067" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M6.62505 6.33354L6.62505 14.5834" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15.5625 13.0594L13.2054 15.4166L10.8483 13.0594" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M13.2071 7.16667L13.2071 15.4166" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_886_851">
                            <rect width="20" height="20" fill="white" transform="translate(0 0.5)"/>
                            </clipPath>
                            </defs>
                          </svg>
                        </span>
                      </a>
                      Brand
                    </div>
                  </th>
                  <th class="w-[100px] xl:w-[150px] p-[5px] text-white font-bold">
                    <div class="flex justify-start items-center gap-[3px]">
                      <a id="tab_sort_category" href="#" class="sort-link" data-sort="category">
                        <span class="sort-icon" data-sort="category">
                          <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_886_851)">
                            <path d="M4.26624 8.69067L6.62335 6.33356L8.98047 8.69067" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M6.62505 6.33354L6.62505 14.5834" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15.5625 13.0594L13.2054 15.4166L10.8483 13.0594" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M13.2071 7.16667L13.2071 15.4166" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_886_851">
                            <rect width="20" height="20" fill="white" transform="translate(0 0.5)"/>
                            </clipPath>
                            </defs>
                          </svg>
                        </span>
                      </a>
                      Category
                    </div>
                  </th>
                  <th class="w-[100px] xl:w-[220px] p-[5px] text-white font-bold flex gap-[6px]">
                    Actions
                    <div class="relative flex justify-end items-center">
                      <a href="#" id="table-actions-help" class="flex items-center font-bold text-black hover:underline">
                        <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <rect y="0.5" width="21" height="21" rx="10.5" fill="#6B6397"/>
                          <path d="M11.8374 6L11.5419 13.1687H9.39901L9.10345 6H11.8374ZM10.5074 17C10.064 17 9.69951 16.8703 9.41379 16.6109C9.13793 16.3415 9 16.0122 9 15.6231C9 15.224 9.13793 14.8898 9.41379 14.6204C9.69951 14.351 10.064 14.2163 10.5074 14.2163C10.9409 14.2163 11.2956 14.351 11.5714 14.6204C11.8571 14.8898 12 15.224 12 15.6231C12 16.0122 11.8571 16.3415 11.5714 16.6109C11.2956 16.8703 10.9409 17 10.5074 17Z" fill="white"/>
                        </svg>
                      </a>
                      <div id="table-actions-tooltip" class="hidden absolute top-[5px] right-[5px] w-[320px] bg-gray-900 text-white text-sm rounded-xl shadow-lg p-4 z-30">
                        <b>Analyze Button:</b><br>
                        Run AI analysis of reviews for this product.
                      </div>
                    </div>
                  </th>
                </tr>
                <tr id="tab_search" class="hidden bg-[#EAEAEA] font-regular filter-row-border">
                  <th class="w-[80px] p-[5px]"></th>
                  <th class="p-[5px]"><input type="text" id="tab_search_name" name="name" class="w-full"></th>
                  <th class="w-[125px] p-[5px]"><input type="text" id="tab_search_ean" name="ean" class="w-full"></th>
                  <th class="w-[120px] p-[5px]"><input type="text" id="tab_search_upc" name="upc" class="w-full"></th>
                  <th class="w-[100px] xl:w-[150px] p-[5px]">
                    <select id="tab_search_brand" name="brand_id" class="w-full">
                      <option value="">-- All brands --</option>
                      <option value="null">-- No brand --</option>
                      {% for brand in brands %}
                      <option value="{{ brand.id }}">{{ brand.name }}</option>
                      {% endfor %}
                  </select>
                  </th>
                  <th class="w-[100px] xl:w-[150px] p-[5px]">
                    <select id="tab_search_category" name="category_id" class="w-full">
                      <option value="">-- All categories --</option>
                      <option value="null">-- No category --</option>
                      {% for category in categories %}
                      <option value="{{ category.id }}">{{ category.name }}</option>
                      {% endfor %}
                    </select>
                  </th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="product-tbody" class="bg-transparent">
                {% for product in products %}
                <tr id="product-row-{{ product.id }}" data-id="{{ product.id }}" class="h-[80px] align-middle border-b border-gray-200 table-row cursor-pointer">
                  <td class="w-[80px] p-[5px]">
                    <img src="{{ url_for('static', path='images/placeholder.png') }}" alt="Фото" class="w-16 h-16 object-cover rounded-xl shadow">
                  </td>
                  <td class="p-[5px] align-middle font-semibold text-gray-900 line-clamp-3">{{ product.name }}</td>
                  <td class="w-[125px] p-[5px] align-middle text-gray-700">{{ product.ean }}</td>
                  <td class="w-[120px] p-[5px] align-middle text-gray-700">{{ product.upc }}</td>
                  <td class="w-[100px] xl:w-[150px] p-[5px] align-middle text-gray-700" title="brand">{{ product.brand.name if product.brand else "" }}</td>
                  <td class="w-[100px] xl:w-[150px] p-[5px] align-middle text-gray-700" title="category">{{ product.category.name if product.category else "" }}</td>
                  <td class="w-[100px] xl:w-[220px] p-[5px] align-middle">
                    <div class="flex flex-wrap xl:flex-nowrap items-center justify-center gap-[5px]">
                      <a href="/analyze/${product.id}/form${window.location.search ? window.location.search : ''}" class="bg-[#A3B8F8] hover:bg-[#7B7FD1] text-white font-semibold px-[20px] py-[5px] rounded-full shadow transition text-[15px]">
                        Analysis
                      </a>
                      <div class="flex items-center justify-center gap-2">
                        <a href="/product/${product.id}/form${window.location.search ? window.location.search : ''}" class="rounded-full hover:bg-gray-200 transition p-1" title="Edit">
                          <svg width="24" height="24" viewBox="0 0 35 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="0.5" y="1" width="34" height="34" rx="9.5" stroke="#6B6397" stroke-opacity="0.2"/>
                            <path d="M18.9769 13.0492C18.9769 13.0492 19.0487 14.2805 20.135 15.3661C21.2212 16.4523 22.4519 16.5248 22.4519 16.5248L23.0312 15.9455C23.4921 15.4846 23.7511 14.8594 23.7511 14.2076C23.7511 13.5558 23.4921 12.9307 23.0312 12.4698C22.5704 12.0089 21.9452 11.75 21.2934 11.75C20.6416 11.75 20.0165 12.0089 19.5556 12.4698L18.9762 13.0492L17.5012 14.5242M22.4519 16.5242L19.1644 19.813L17.2262 21.7498L17.1262 21.8505C16.765 22.2111 16.5844 22.3917 16.3856 22.5467C16.151 22.7296 15.8972 22.8865 15.6287 23.0148C15.4012 23.123 15.1594 23.2036 14.675 23.3648L12.6244 24.0486M12.6244 24.0486L12.1231 24.2161C12.0063 24.2553 11.8808 24.2611 11.7609 24.2329C11.6409 24.2047 11.5312 24.1435 11.444 24.0564C11.3569 23.9693 11.2958 23.8595 11.2676 23.7396C11.2394 23.6196 11.2452 23.4942 11.2844 23.3773L11.4519 22.8761M12.6244 24.0486L11.4519 22.8761M11.4519 22.8761L12.1356 20.8255C12.2969 20.3411 12.3775 20.0992 12.4856 19.8717C12.6144 19.6021 12.7704 19.3498 12.9537 19.1148C13.1087 18.9161 13.2894 18.7355 13.65 18.3748L15.3137 16.7117" stroke="#6B6397" stroke-width="1.2" stroke-linecap="round"/>
                          </svg>
                        </a>
                        <button class="rounded-full hover:bg-red-100 transition p-1 delete-btn" title="Delete" data-id="${product.id}">
                          <svg width="24" height="24" viewBox="0 0 33 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="0.5" y="1" width="32" height="34" rx="9.5" stroke="#6B6397" stroke-opacity="0.2"/>
                            <path d="M11 12.5L11.7639 24.3182C11.8002 25.0011 12.3139 25.5 12.9861 25.5H20.0139M21.4844 21.142L22 12.5" stroke="#6B6397" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10 12.5H23H10Z" fill="#6B6397"/>
                            <path d="M10 12.5H23" stroke="#6B6397" stroke-width="1.2" stroke-miterlimit="10" stroke-linecap="round"/>
                            <path d="M14.2778 12.8636V11.3864C14.2775 11.2699 14.2988 11.1545 14.3406 11.0468C14.3823 10.9391 14.4437 10.8412 14.5211 10.7589C14.5986 10.6765 14.6906 10.6112 14.7918 10.5668C14.8931 10.5224 15.0016 10.4997 15.1111 10.5H17.8889C17.9984 10.4997 18.1069 10.5224 18.2082 10.5668C18.3094 10.6112 18.4014 10.6765 18.4789 10.7589C18.5563 10.8412 18.6177 10.9391 18.6594 11.0468C18.7012 11.1545 18.7225 11.2699 18.7222 11.3864V12.8636M16.5 15.2273V23.5M14 15.2273L14.2778 23.5M19 15.2273L18.7222 23.5" stroke="#6B6397" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                        </button>
                      </div>
                    </div>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>

          <!-- Карточки товаров для планшета и мобильных -->
          <div id="product-cards" class="block lg:hidden space-y-4">
            {% for product in products %}
            <!-- Пример карточки, далее будет рендериться из JS -->
            <div class="card relative bg-white rounded-xl shadow-custom p-[10px] shadow-[0px_2px_6px_0px_rgba(0,0,0,0.25)]" data-id="{{ product.id }}">
              <div class="font-semibold text-sm leading-none tracking-normal align-middle mb-[4px] md:hidden">{{ product.name }}</div>
              <div class="bg-white rounded-xl shadow-custom flex flex-row gap-4">
                <img src="{{ url_for('static', path='images/placeholder.png') }}" alt="Фото" class="min-w-[140px] max-w-[160px] min-h-[140px] max-h-[160px] object-cover rounded-xl mx-auto md:mx-0" />
                <div class="flex-1 flex flex-col justify-between">
                  <div class="card-wrap">
                    <div class="font-semibold text-sm leading-none tracking-normal align-middle mb-[4px] hidden md:block">{{ product.name }}</div>
                    <div class="text-sm text-gray-700 mb-[4px]"><span class="font-bold mr-[4px]">EAN: </span>{{ product.ean }}</div>
                    <div class="text-sm text-gray-700 mb-[4px]"><span class="font-bold mr-[4px]">UPC: </span>{{ product.upc }}</div>
                    <div class="text-sm text-gray-700 mb-[4px]"><span class="font-bold mr-[4px]">Brand: </span>{{ product.brand.name if product.brand else "" }}</div>
                    <div class="text-sm text-gray-700 mb-[4px]"><span class="font-bold mr-[4px]">Category: </span>{{ product.category.name if product.category else "" }}</div>
                  </div>
                  <div class="card-arrow flex justify-end">
                    <svg width="14" height="8" viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M12.8346 1.25L7.0013 6.75L6.16797 5.96429M1.16797 1.25L3.11214 3.08333" stroke="#1F2125" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </div>
                </div>
              </div>
              <div class="actions flex items-center justify-between gap-2 mt-4 md:mt-0 md:absolute md:right-4 md:bottom-4">
                <button class="bg-[#A3B8F8] hover:bg-[#7B7FD1] text-white font-semibold px-[20px] py-[5px] rounded-full shadow transition text-[15px]">
                  Analysis
                </button>
                <div class="flex items-center gap-2">
                  <button class="rounded-full hover:bg-gray-200 transition p-1" title="Edit">
                    <svg width="24" height="24" viewBox="0 0 35 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <rect x="0.5" y="1" width="34" height="34" rx="9.5" stroke="#6B6397" stroke-opacity="0.2"/>
                      <path d="M18.9769 13.0492C18.9769 13.0492 19.0487 14.2805 20.135 15.3661C21.2212 16.4523 22.4519 16.5248 22.4519 16.5248L23.0312 15.9455C23.4921 15.4846 23.7511 14.8594 23.7511 14.2076C23.7511 13.5558 23.4921 12.9307 23.0312 12.4698C22.5704 12.0089 21.9452 11.75 21.2934 11.75C20.6416 11.75 20.0165 12.0089 19.5556 12.4698L18.9762 13.0492L17.5012 14.5242M22.4519 16.5242L19.1644 19.813L17.2262 21.7498L17.1262 21.8505C16.765 22.2111 16.5844 22.3917 16.3856 22.5467C16.151 22.7296 15.8972 22.8865 15.6287 23.0148C15.4012 23.123 15.1594 23.2036 14.675 23.3648L12.6244 24.0486M12.6244 24.0486L12.1231 24.2161C12.0063 24.2553 11.8808 24.2611 11.7609 24.2329C11.6409 24.2047 11.5312 24.1435 11.444 24.0564C11.3569 23.9693 11.2958 23.8595 11.2676 23.7396C11.2394 23.6196 11.2452 23.4942 11.2844 23.3773L11.4519 22.8761M12.6244 24.0486L11.4519 22.8761M11.4519 22.8761L12.1356 20.8255C12.2969 20.3411 12.3775 20.0992 12.4856 19.8717C12.6144 19.6021 12.7704 19.3498 12.9537 19.1148C13.1087 18.9161 13.2894 18.7355 13.65 18.3748L15.3137 16.7117" stroke="#6B6397" stroke-width="1.2" stroke-linecap="round"/>
                    </svg>
                  </button>
                  <button class="rounded-full hover:bg-red-100 transition p-1" title="Delete">
                    <svg width="24" height="24" viewBox="0 0 33 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <rect x="0.5" y="1" width="32" height="34" rx="9.5" stroke="#6B6397" stroke-opacity="0.2"/>
                      <path d="M11 12.5L11.7639 24.3182C11.8002 25.0011 12.3139 25.5 12.9861 25.5H20.0139M21.4844 21.142L22 12.5" stroke="#6B6397" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M10 12.5H23H10Z" fill="#6B6397"/>
                      <path d="M10 12.5H23" stroke="#6B6397" stroke-width="1.2" stroke-miterlimit="10" stroke-linecap="round"/>
                      <path d="M14.2778 12.8636V11.3864C14.2775 11.2699 14.2988 11.1545 14.3406 11.0468C14.3823 10.9391 14.4437 10.8412 14.5211 10.7589C14.5986 10.6765 14.6906 10.6112 14.7918 10.5668C14.8931 10.5224 15.0016 10.4997 15.1111 10.5H17.8889C17.9984 10.4997 18.1069 10.5224 18.2082 10.5668C18.3094 10.6112 18.4014 10.6765 18.4789 10.7589C18.5563 10.8412 18.6177 10.9391 18.6594 11.0468C18.7012 11.1545 18.7225 11.2699 18.7222 11.3864V12.8636M16.5 15.2273V23.5M14 15.2273L14.2778 23.5M19 15.2273L18.7222 23.5" stroke="#6B6397" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </button>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>

        </div>

      </div>
	  
      <!-- Pagination -->
      <div id="pagination" class="sticky bottom-0 p-[10px] z-10 bg-transparent">
        <div class="flex justify-between items-center">
          <span class="text-xs text-gray-400 font-medium ml-2" id="pagination-info"></span>
          <div class="">
            <div class="relative">
              <button id="page-limit-button" class="px-3 py-2 rounded-lg border border-gray-300 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#A3B8F8] bg-white flex items-center justify-between w-full">
                <span id="page-limit-text">10 on page</span>
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </button>
              <!-- Dropdown меню -->
              <div id="page-limit-dropdown" class="absolute bottom-full mb-1 w-full bg-white border border-gray-300 rounded-lg shadow-lg hidden">
                <div class="py-1">
                  <div class="px-3 py-2 cursor-pointer" data-value="3">3 on page</div>
                  <div class="px-3 py-2 cursor-pointer" data-value="10">10 on page</div>
                  <div class="px-3 py-2 cursor-pointer" data-value="25">25 on page</div>
                  <div class="px-3 py-2 cursor-pointer" data-value="50">50 on page</div>
                </div>
              </div>
            </div>
          </div>
          <div class="flex items-center space-x-2" id="pagination-controls">
          </div>
        </div>
      </div>

    </main>
  </div>

  <script src="{{ url_for('static', path='js/main.js') }}"></script>
  <script src="{{ url_for('static', path='js/utils.js') }}"></script>
  <script src="{{ url_for('static', path='js/table-utils.js') }}"></script>
  <script src="{{ url_for('static', path='js/dashboard.js') }}"></script>
  
</body>
</html>
